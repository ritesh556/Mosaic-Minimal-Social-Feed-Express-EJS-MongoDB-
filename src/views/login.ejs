<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Login</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="bg-zinc-900 text-zinc-50 min-h-screen flex items-center justify-center">
  <form class="bg-zinc-800/90 backdrop-blur p-8 rounded-2xl shadow-2xl w-[420px] border border-zinc-700" method="post" action="/login">
    <div class="mb-6 text-center">
      <h1 class="text-2xl font-semibold">Welcome back</h1>
      <p class="mt-1 text-sm text-zinc-300">Sign in to continue</p>
    </div>

    <% if (typeof error !== 'undefined' && error) { %>
      <p class="text-red-400 bg-red-950/30 border border-red-900 rounded-md px-3 py-2 mb-4 text-center">
        <%= error %>
      </p>
    <% } %>

    <% if (typeof message !== 'undefined' && message) { %>
      <p class="text-green-400 bg-green-950/30 border border-green-900 rounded-md px-3 py-2 mb-4 text-center">
        <%= message %>
      </p>
    <% } %>

    <div class="space-y-4">
      <div>
        <label for="email" class="block text-zinc-200 mb-1 text-sm">Email</label>
        <input id="email" type="email" name="email" placeholder="you@example.com" required
          class="w-full px-3 py-2.5 rounded-lg bg-zinc-900 text-zinc-100 placeholder-zinc-500 border border-zinc-700 outline-none focus:ring-2 focus:ring-blue-500/60 focus:border-zinc-600" 
          value="<%= typeof email !== 'undefined' ? email : '' %>"/>
      </div>

      <div>
        <label for="password" class="block text-zinc-200 mb-1 text-sm">Password</label>
        <input id="password" type="password" name="password" placeholder="••••••••" required
          class="w-full px-3 py-2.5 rounded-lg bg-zinc-900 text-zinc-100 placeholder-zinc-500 border border-zinc-700 outline-none focus:ring-2 focus:ring-blue-500/60 focus:border-zinc-600" />
      </div>

      <% if (typeof showOtp !== 'undefined' && showOtp) { %>
        <div class="mt-4">
          <label for="otp" class="block text-zinc-200 mb-1 text-sm">Verification Code</label>
          <input id="otp" type="text" name="otp" placeholder="Enter 6-digit code" maxlength="6"
            class="w-full px-3 py-2.5 rounded-lg bg-zinc-900 text-zinc-100 placeholder-zinc-500 border border-zinc-700 outline-none focus:ring-2 focus:ring-blue-500/60 focus:border-zinc-600" />
          <p class="text-sm text-zinc-400 mt-1">A code was sent to your email. It expires in 10 minutes.</p>
        </div>
      <% } %>

      <button type="submit"
        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2.5 rounded-lg transition shadow-sm focus:outline-none focus:ring-4 focus:ring-blue-400/30">
        <% if (typeof showOtp !== 'undefined' && showOtp) { %>
          Verify & Login
        <% } else { %>
          Login
        <% } %>
      </button>
    </div>

    <!-- Divider -->
    <div class="relative my-7">
      <div class="h-px bg-zinc-700"></div>
      <span class="absolute -top-3 left-1/2 -translate-x-1/2 bg-zinc-800 px-3 text-xs text-zinc-300 rounded">
        or continue with
      </span>
    </div>

    <a href="/auth/google"
       class="group inline-flex w-full items-center justify-center gap-3 rounded-xl border border-zinc-700 bg-zinc-900 px-4 py-3 font-semibold text-zinc-100 shadow-sm hover:bg-zinc-800 focus:outline-none focus:ring-4 focus:ring-blue-400/25"
       aria-label="Sign in with Google">
      <svg class="h-5 w-5" viewBox="0 0 48 48" aria-hidden="true" focusable="false">
        <path fill="#EA4335" d="M24 9.5c3.51 0 6.67 1.22 9.16 3.6l5.98-5.98C34.93 3.02 29.8 1 24 1 14.64 1 6.51 6.55 3.17 14.38l7.61 5.9C12.44 14.22 17.76 9.5 24 9.5z"/>
        <path fill="#4285F4" d="M46.5 24c0-1.64-.15-3.2-.44-4.7H24v8.9h12.7c-.55 2.9-2.19 5.35-4.67 7.01l7.15 5.54C43.97 36.51 46.5 30.7 46.5 24z"/>
        <path fill="#FBBC04" d="M10.78 20.28l-7.61-5.9C1.66 16.29 1 19.06 1 22c0 2.9.67 5.62 1.86 8.04l7.92-6.07c-.43-1.2-.67-2.5-.67-3.69 0-.68.07-1.35.2-2z"/>
        <path fill="#34A853" d="M24 46.5c6.3 0 11.59-2.07 15.44-5.61l-7.15-5.54c-2.01 1.36-4.6 2.2-8.29 2.2-6.26 0-11.6-4.74-13.24-11.03l-7.92 6.07C6.18 41.48 14.33 46.5 24 46.5z"/>
      </svg>
      <span>Continue with Google</span>
    </a>

    <p class="text-zinc-300 text-center mt-6 text-sm">
      Don’t have an account?
      <a href="/register" class="text-blue-400 hover:underline">Register here</a>
    </p>
  </form>
</body>
</html>
